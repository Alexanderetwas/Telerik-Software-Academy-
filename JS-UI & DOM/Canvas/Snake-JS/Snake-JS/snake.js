function init(){direction="right";createSnake();createFood();typeof gameLoop!="undefined"&&clearInterval(gameLoop);gameLoop=setInterval(paint,70);score=0}function createSnake(){var n;for(snake=[],n=4;n>=0;n-=1)snake.push({x:n,y:0})}function createFood(){food={x:Math.round(Math.random()*(canvas.width-cellSize)/cellSize),y:Math.round(Math.random()*(canvas.height-cellSize)/cellSize)}}function paint(){var n,t,f,i,r,e,u,o,s,h;if(ctx.clearRect(0,0,canvas.width,canvas.height),n=snake[0].x,t=snake[0].y,direction==="right"?n++:direction==="left"?n--:direction==="up"?t--:direction==="down"&&t++,n===-1||n===canvas.width/cellSize||t===-1||t===canvas.height/cellSize||checkCollision(n,t,snake)){audio.play();document.body.innerHTML='МИШО , LOVE YOU <3 !!! <br><img src="images/gay.jpg"><img src="images/gay3.jpg"><img src="images/gay2.jpg">';f=document.getElementById("score");f.innerHTML=" Мишо е педал !!! - точки : "+score;return}for(n===food.x&&t===food.y||n===food.x-1&&t===food.y-1||n===food.x+1&&t===food.y+1?(i={x:n,y:t},audio2.play(),score+=10,createFood()):(i=snake.pop(),i.x=n,i.y=t),snake.unshift(i),r=0,e=snake.length;r<e;r+=1)u=snake[r],paintCell(u.x,u.y,"yellow","purple");o=food.x*cellSize;s=food.y*cellSize;ctx.drawImage(apple,0,0,apple.width,apple.height,o-cellSize*1.5/2,s-cellSize*1.5/2,40,50);h=document.getElementById("score");h.innerHTML="Score: "+score}function paintCell(n,t,i,r){ctx.fillStyle=i;ctx.fillRect(n*cellSize,t*cellSize,cellSize,cellSize);ctx.strokeStyle=r;ctx.strokeRect(n*cellSize,t*cellSize,cellSize,cellSize)}function checkCollision(n,t,i){for(var r=0,u=i.length;r<u;r+=1)if(i[r].x===n&&i[r].y===t)return!0;return!1}var canvas=document.getElementById("the-canvas"),ctx=canvas.getContext("2d"),snake,cellSize=20,direction,score,apple=new Image;apple.src="images/monster.png";audio=new Audio("audio/audio.mp3");audio2=new Audio("audio/pluk.mp3");init();document.onkeydown=function(n){var t=n.which;t===37?direction!=="right"&&(direction="left"):t===38?direction!=="down"&&(direction="up"):t===39?direction!=="left"&&(direction="right"):t===40&&direction!=="up"&&(direction="down")}